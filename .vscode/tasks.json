{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Configure",
      "type": "shell",
      "command": "${workspaceFolder}/.vscode/scripts/configure.sh",
      "args": ["build"],
      "options": { "cwd": "${workspaceFolder}" },
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "Build",
      "type": "shell",
      "command": "${workspaceFolder}/.vscode/scripts/build.sh",
      "args": ["build"],
      "options": { "cwd": "${workspaceFolder}" },
      "problemMatcher": "$gcc",
      "dependsOn": ["Configure"],
      "group": {
        "kind": "build"
      }
    },
    {
      "label": "Format",
      "type": "shell",
      "command": "${workspaceFolder}/.vscode/scripts/format.sh",
      "options": { "cwd": "${workspaceFolder}" },
      "problemMatcher": []
    },
    {
      "label": "Clean",
      "type": "shell",
      "command": "${workspaceFolder}/.vscode/scripts/clean.sh",
      "args": ["build"],
      "options": { "cwd": "${workspaceFolder}" },
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "Full Clean",
      "type": "shell",
      "command": "${workspaceFolder}/.vscode/scripts/fullclean.sh",
      "options": { "cwd": "${workspaceFolder}" },
      "problemMatcher": []
    },
    {
      "label": "Rebuild",
      "dependsOn": ["Clean", "Configure", "Build"],
      "dependsOrder": "sequence",
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "Launch",
      "type": "shell",
      "command": "${workspaceFolder}/build/bin/main",
      "options": { "cwd": "${workspaceFolder}" },
      "problemMatcher": [],
      "group": "build"
    },
    {
      "label": "Launch",
      "type": "shell",
      "command": "${workspaceFolder}/build/bin/main",
      "dependsOn": ["Build"],               // ensures binary is built
      "options": { "cwd": "${workspaceFolder}" },
      "problemMatcher": [],
      "group": { "kind": "test", "isDefault": true } // treat as "run"
    }
  ]
}
